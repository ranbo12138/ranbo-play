@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --color-background: 241 245 249;
  --color-surface: 255 255 255;
  --color-foreground: 15 23 42;
  --color-muted: 100 116 139;
  --color-border: 226 232 240;
  --color-accent: 37 99 235;
}

.dark {
  color-scheme: dark;
  --color-background: 15 23 42;
  --color-surface: 30 41 59;
  --color-foreground: 226 232 240;
  --color-muted: 148 163 184;
  --color-border: 51 65 85;
  --color-accent: 96 165 250;
}

body {
  @apply bg-background text-foreground antialiased;
  margin: 0;
  font-family: 'Inter Variable', 'Inter', 'Noto Sans SC', system-ui, -apple-system,
    BlinkMacSystemFont, 'Segoe UI', sans-serif;
  min-height: 100vh;
  min-height: 100svh;
  padding-top: env(safe-area-inset-top, 0px);
}

#root {
  min-height: 100vh;
  min-height: 100svh;
  display: flex;
  flex-direction: column;
}

@layer base {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 600;
    color: inherit;
  }
}

@layer components {
  .panel {
    @apply flex min-h-0 flex-col gap-4 rounded-2xl border border-border bg-surface p-5 shadow-card transition-colors;
  }

  .panel-header {
    @apply flex items-center justify-between gap-2;
  }

  .panel-title {
    @apply text-lg font-semibold text-foreground;
  }

  .tag {
    @apply inline-flex items-center gap-1 rounded-full bg-accent/10 px-2.5 py-1 text-xs font-medium uppercase tracking-wide text-accent;
  }

  .placeholder {
    @apply flex flex-1 min-h-[160px] items-center justify-center rounded-xl border border-dashed border-border/70 bg-background/60 text-sm text-muted;
  }

  .split-pane {
    @apply relative flex min-h-0 min-w-0;
  }

  .split-pane--horizontal {
    @apply flex-row;
  }

  .split-pane--vertical {
    @apply flex-col;
  }

  .split-pane-pane {
    @apply flex min-h-0 min-w-0 flex-1;
  }

  .split-pane-divider {
    @apply relative flex shrink-0 items-center justify-center bg-border/60 transition-colors duration-200 hover:bg-accent/30 focus-visible:bg-accent/40 focus-visible:outline-none;
    touch-action: none;
  }

  .split-pane-divider-horizontal {
    @apply w-4 cursor-col-resize border-x border-border/70;
  }

  .split-pane-divider-vertical {
    @apply h-4 cursor-row-resize border-y border-border/70;
  }

  .split-pane-grip {
    @apply pointer-events-none h-8 w-1.5 rounded-full bg-border/80;
  }

  .mobile-dock {
    @apply sticky bottom-0 left-0 right-0 z-30 flex items-center justify-between gap-2 rounded-2xl border border-border bg-surface/95 px-4 py-3 text-sm shadow-card backdrop-blur;
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.75rem);
  }

  .mobile-dock__button {
    @apply inline-flex h-11 flex-1 items-center justify-center gap-2 rounded-xl border border-transparent bg-background/80 text-sm font-medium text-foreground transition hover:border-accent hover:text-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/50;
  }

  .mobile-dock__button--active {
    @apply border-accent bg-accent/10 text-accent shadow-inner;
  }

  .tablet-drawer {
    @apply flex h-[min(90vh,560px)] w-full max-w-md flex-col gap-4 rounded-2xl border border-border bg-surface p-5 shadow-card transition-transform duration-300 ease-out;
  }

  .tablet-drawer__backdrop {
    @apply absolute inset-0 z-20 bg-background/60 backdrop-blur-sm transition-opacity duration-200;
  }
}
